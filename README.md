import random
import webbrowser

# =================================
# í˜ˆì•• ë¶„ì„ í•¨ìˆ˜
# =================================

def classify_blood_pressure(sp, dp):
    if sp >= 180 or dp >= 120:
        return "ê³ í˜ˆì•• ìœ„ê¸° (ì‘ê¸‰ ìƒí™©)"
    elif sp >= 160 or dp >= 100:
        return "2ê¸° ê³ í˜ˆì••"
    elif sp >= 140 or dp >= 90:
        return "1ê¸° ê³ í˜ˆì••"
    elif 120 <= sp <= 139 or 80 <= dp <= 89:
        return "ê³ í˜ˆì•• ì „ë‹¨ê³„"
    elif sp < 120 and dp < 80:
        return "ì •ìƒ í˜ˆì••"
    else:
        return "ì¸¡ì •ê°’ í™•ì¸ í•„ìš”"

def calculate_pp(sp, dp):
    return sp - dp

def calculate_map(sp, dp):
    return ((2 * dp) + sp) / 3

# =================================
# í˜ˆì•• ì¸¡ì • í”„ë¡œê·¸ëž¨
# =================================

def blood_pressure_program():
    while True:
        try:
            sp = float(input("\nìˆ˜ì¶•ê¸° í˜ˆì••(SP)ì„ ìž…ë ¥í•˜ì„¸ìš”: "))
            dp = float(input("í™•ìž¥ê¸° í˜ˆì••(DP)ì„ ìž…ë ¥í•˜ì„¸ìš”: "))

            result = classify_blood_pressure(sp, dp)
            pp = calculate_pp(sp, dp)
            map_val = calculate_map(sp, dp)

            print("\n====== í˜ˆì•• ë¶„ì„ ê²°ê³¼ ======")
            print(f"ìˆ˜ì¶•ê¸° í˜ˆì••: {sp:.1f} mmHg")
            print(f"í™•ìž¥ê¸° í˜ˆì••: {dp:.1f} mmHg")
            print(f"ë§¥ì••(PP): {pp:.1f} mmHg")
            print(f"í‰ê· ë™ë§¥ì••(MAP): {map_val:.1f} mmHg")
            print(f"â–¶ íŒì • ê²°ê³¼: {result}")

            # ê²°ê³¼ë³„ í–‰ë™ ê°€ì´ë“œ + ì‚¬ì´íŠ¸ ì—°ë™
            if result == "ì •ìƒ í˜ˆì••":
                print("âœ… ì •ìƒìž…ë‹ˆë‹¤. í˜„ìž¬ ìƒí™œìŠµê´€ì„ ìœ ì§€í•˜ì„¸ìš”.")

            elif "ì „ë‹¨ê³„" in result:
                print("âš ï¸ ìƒí™œìŠµê´€ ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.")
                if input("ê³ í˜ˆì•• ì˜ˆë°© ì •ë³´ë¥¼ í™•ì¸í• ê¹Œìš”? (Y/N): ").upper() == "Y":
                    webbrowser.open("https://www.kdca.go.kr")

            elif "1ê¸°" in result:
                print("âš ï¸ ê³ í˜ˆì••ìž…ë‹ˆë‹¤. ì§€ì†ì ì¸ ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.")
                if input("ê³ í˜ˆì•• ê´€ë¦¬ ì •ë³´ë¥¼ í™•ì¸í• ê¹Œìš”? (Y/N): ").upper() == "Y":
                    webbrowser.open("https://www.nhis.or.kr")

            elif "2ê¸°" in result:
                print("â— ê³ í˜ˆì••ì´ ì‹¬í•œ ìƒíƒœìž…ë‹ˆë‹¤.")
                if input("ë³‘ì› ì˜ˆì•½ ì‚¬ì´íŠ¸ë¡œ ì´ë™í• ê¹Œìš”? (Y/N): ").upper() == "Y":
                    webbrowser.open("https://www.goodoc.co.kr")

            elif "ìœ„ê¸°" in result:
                print("ðŸš¨ ì‘ê¸‰ ìƒí™©ìž…ë‹ˆë‹¤! ì¦‰ì‹œ ë³‘ì› ë°©ë¬¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")
                if input("ë³‘ì› ì •ë³´ë¥¼ ë°”ë¡œ í™•ì¸í• ê¹Œìš”? (Y/N): ").upper() == "Y":
                    webbrowser.open("https://www.goodoc.co.kr")

        except ValueError:
            print("âš ï¸ ìˆ«ìžë¥¼ ì •í™•ížˆ ìž…ë ¥í•´ì£¼ì„¸ìš”.")
            continue

        if input("\në©”ì¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ë ¤ë©´ M ìž…ë ¥: ").upper() == "M":
            break

# =================================
# í€´ì¦ˆ ë°ì´í„° (ë‚œì´ë„ í˜¼í•©)
# =================================

quiz = {
    "ìƒí™© ëŒ€ì‘ Â· í–‰ë™ íŒë‹¨": [
        ("í˜ˆì••ì´ 180/120mmHg ì´ìƒì´ë©´ ì¦‰ì‹œ ë³‘ì›ì— ê°€ì•¼ í•œë‹¤.", True),
        ("ì¦ìƒì´ ì—†ìœ¼ë©´ ê³ í˜ˆì•• ê´€ë¦¬ë¥¼ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.", False),
        ("í˜ˆì•• ì¸¡ì • ì „ì—ëŠ” ìž ì‹œ ì•‰ì•„ì„œ ì•ˆì •ì„ ì·¨í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.", True),
        ("ë‘í†µê³¼ ì–´ì§€ëŸ¼ì¦ì´ ì‹¬í•˜ë©´ í˜ˆì••ì„ í™•ì¸í•´ë³¼ í•„ìš”ê°€ ìžˆë‹¤.", True),
        ("í˜ˆì••ì´ í•œ ë²ˆ ë†’ê²Œ ë‚˜ì™”ë‹¤ê³  ë°”ë¡œ ê³ í˜ˆì••ì€ ì•„ë‹ˆë‹¤.", True),
        ("ê³ í˜ˆì••ê³¼ í•¨ê»˜ ê°€ìŠ´ í†µì¦ì´ ìžˆìœ¼ë©´ ì‘ê¸‰ ìƒí™©ì¼ ìˆ˜ ìžˆë‹¤.", True),
        ("í˜ˆì••ì´ ë†’ì„ ë•Œ ë°”ë¡œ ê²©í•œ ìš´ë™ì„ ì‹œìž‘í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.", False),
        ("ì§‘ì—ì„œ ì¸¡ì •í•œ í˜ˆì•• ê¸°ë¡ì€ ë³‘ì› ì§„ë£Œì— ë„ì›€ì´ ëœë‹¤.", True),
    ],

    "ìƒí™œìŠµê´€ Â· ê´€ë¦¬": [
        ("ì—¼ë¶„ ì„­ì·¨ë¥¼ ì¤„ì´ë©´ í˜ˆì•• ê´€ë¦¬ì— ë„ì›€ì´ ëœë‹¤.", True),
        ("ê·œì¹™ì ì¸ ê±·ê¸° ìš´ë™ì€ í˜ˆì•• ì¡°ì ˆì— ë„ì›€ì´ ëœë‹¤.", True),
        ("í˜ˆì••ì•½ì€ ì¦ìƒì´ ìžˆì„ ë•Œë§Œ ë³µìš©í•˜ë©´ ëœë‹¤.", False),
        ("ê³¼ë„í•œ ìŒì£¼ëŠ” í˜ˆì••ì„ ìƒìŠ¹ì‹œí‚¬ ìˆ˜ ìžˆë‹¤.", True),
        ("ì²´ì¤‘ ê°ëŸ‰ì€ í˜ˆì••ì„ ë‚®ì¶”ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìžˆë‹¤.", True),
        ("ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ëŠ” í˜ˆì••ê³¼ ë¬´ê´€í•˜ë‹¤.", False),
        ("ê¸ˆì—°ì€ ê³ í˜ˆì•• í•©ë³‘ì¦ ìœ„í—˜ì„ ë‚®ì¶˜ë‹¤.", True),
        ("ìˆ˜ë©´ ë¶€ì¡±ì€ í˜ˆì••ê³¼ ê´€ë ¨ì´ ì—†ë‹¤.", False),
    ],

    "ì›ë¦¬ Â· ì˜í•™ì  ì´í•´": [
        ("ê³ í˜ˆì••ì€ ì‹¬ìž¥ê³¼ í˜ˆê´€ì— ì§€ì†ì ì¸ ë¶€ë‹´ì„ ì¤€ë‹¤.", True),
        ("í˜ˆì••ì€ ì‹¬ë°•ì¶œëŸ‰ê³¼ ë§ì´ˆí˜ˆê´€ ì €í•­ì˜ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.", True),
        ("ë§¥ì••ì´ í¬ë‹¤ëŠ” ê²ƒì€ í˜ˆê´€ íƒ„ì„±ì´ ê°ì†Œí–ˆì„ ê°€ëŠ¥ì„±ì„ ì˜ë¯¸í•œë‹¤.", True),
        ("ê³ í˜ˆì••ì€ ë‡Œì¡¸ì¤‘ ìœ„í—˜ì„ ì¦ê°€ì‹œí‚¨ë‹¤.", True),
        ("í‰ê· ë™ë§¥ì••ì€ ìž¥ê¸° ê´€ë¥˜ ìƒíƒœ íŒë‹¨ì— ì‚¬ìš©ëœë‹¤.", True),
        ("í˜ˆì••ì´ ì •ìƒìœ¼ë¡œ ëŒì•„ì˜¤ë©´ ê³ í˜ˆì••ì€ ì™„ì¹˜ëœ ê²ƒì´ë‹¤.", False),
        ("ê³ í˜ˆì••ì€ ì‹ ìž¥ ê¸°ëŠ¥ì—ë„ ì˜í–¥ì„ ì¤„ ìˆ˜ ìžˆë‹¤.", True),
        ("ê³ í˜ˆì•• ê´€ë¦¬ëŠ” ë‹¨ê¸°ê°„ë§Œ í•˜ë©´ ì¶©ë¶„í•˜ë‹¤.", False),
    ]
}

def quiz_program():
    score = 0
    total = 0

    print("\nâš ï¸ í€´ì¦ˆ ì¤‘ M ìž…ë ¥ ì‹œ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.")

    for part, questions in quiz.items():
        print(f"\n[{part}]")
        random.shuffle(questions)

        for q, answer in questions:
            user = input(f"{q} (O/X): ").upper()

            if user == "M":
                print("\në©”ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.")
                return

            if user not in ["O", "X"]:
                print("âš ï¸ O ë˜ëŠ” Xë§Œ ìž…ë ¥í•˜ì„¸ìš”.")
                continue

            total += 1
            if (user == "O" and answer) or (user == "X" and not answer):
                print("â­• ì •ë‹µ")
                score += 1
            else:
                print("âŒ ì˜¤ë‹µ")

    print("\n====== í€´ì¦ˆ ê²°ê³¼ ======")
    print(f"ì´ ì ìˆ˜: {score} / {total}")

# =================================
# ë©”ì¸ ë©”ë‰´
# =================================

def main():
    while True:
        print("\n======================")
        print("ê³ í˜ˆì•• í†µí•© ê´€ë¦¬ í”„ë¡œê·¸ëž¨")
        print("1. í˜ˆì•• ì¸¡ì •ê¸°")
        print("2. ê³ í˜ˆì•• í€´ì¦ˆ")
        print("3. ì¢…ë£Œ")
        print("======================")

        choice = input("ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”: ")

        if choice == "1":
            blood_pressure_program()
        elif choice == "2":
            quiz_program()
        elif choice == "3":
            print("í”„ë¡œê·¸ëž¨ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.")
            break
        else:
            print("âš ï¸ ì˜¬ë°”ë¥¸ ë²ˆí˜¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”.")

# ì‹¤í–‰
main()


</body>
</html>

